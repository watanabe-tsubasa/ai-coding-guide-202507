# 開発進捗サマリー

## 1. テスト環境の構築

- **テストフレームワークの導入**: `vitest` と `jsdom` をプロジェクトに追加し、Reactコンポーネントとフックのテストを行えるように設定しました。
- **設定ファイルの更新**: `package.json` に `test` スクリプトを追加し、`vite.config.ts` に `vitest` の設定（`globals`, `environment`）を追記しました。

## 2. コアロジックのTDDによる実装

テスト駆動開発（TDD）のアプローチに従い、以下のコアモジュールを実装しました。

### `utils` ディレクトリ
- `physics.ts`: ベクトル演算（加算、減算）、距離計算、正規化など、ゲームの物理計算の基礎となる関数を実装しました。
- `spawner.ts`: プレイヤーの周囲（画面外）に敵を生成するためのランダムな座標を計算する関数を実装しました。

### `hooks` ディレクトリ
- `useKeyboard.ts`: `keydown` および `keyup` イベントを監視し、現在押されているキーのセットを返すカスタムフックを実装しました。
- `useGameLoop.ts`: `requestAnimationFrame` をベースにしたゲームループを管理するカスタムフックを実装しました。フレーム間の経過時間（デルタタイム）を計算し、コールバック関数に渡す機能も含まれています。

## 3. 基本的なゲーム画面の実装

- **コンポーネントの作成**: 
  - `Player.tsx`: プレイヤーキャラクター（現在は青い円）を描画するSVGコンポーネントを作成しました。
  - `Game.tsx`: ゲーム全体のメインコンポーネント。以下の役割を担います。
    - ゲーム状態（`GameState`）の管理。
    - `useGameLoop` と `useKeyboard` フックを組み合わせて、プレイヤーの移動ロジックを実装。
    - プレイヤーを追従するカメラ（SVGの`viewBox`）を実装。
- **エントリーポイントの更新**: `App.tsx` を修正し、作成した `Game` コンポーネントを呼び出すように変更しました。

## 現在の状態

- アプリケーションを実行すると（`npm run dev`）、ゲーム画面が表示されます。
- 画面中央の青い円がプレイヤーであり、カーソルキーで上下左右に操作できます。

## 次のステップ

- 敵キャラクター（`Enemy.tsx`）の描画
- 敵の移動ロジックとスポーン処理の実装
- 弾丸（`Bullet.tsx`）の発射と移動ロジックの実装
- 衝突判定ロジックの実装
